<%- include('../layouts/Shopheader') %>

<style>
    .image-container {
  height: 300px; /* Adjust height as needed */
  width: 100%; /* Ensure full width */
}

.image-container .img-prod img {
  height: 100%;
  width: 100%;
  object-fit: cover; /* Maintain aspect ratio and cover the container */
}

.logoname {
    font-size: 2.5rem; /* Adjust as needed */
    font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif; /* Example font family */
    color: #eac90b; 
    text-transform: uppercase; /* Example text transformation */
    letter-spacing: 2px; /* Example letter spacing */
    margin: 0; /* Remove default margin */
  }
 /* Custom styles for navbar links */
.custom-nav-link, .navbar-nav .nav-link {
    color: white !important; /* Change this to your desired color */
}

.custom-nav-link:hover, .navbar-nav .nav-link:hover {
    color: #ff4500 !important; /* Change this to your desired hover color */
}

/* If you want to target the dropdown items specifically */
.dropdown-item.custom-nav-link, .dropdown-item {
    color: white !important; /* Change this to your desired color */
}

.dropdown-item.custom-nav-link:hover, .dropdown-item:hover {
    color: #ff4500 !important; /* Change this to your desired hover color */
}
.widgets_inner {
    margin-top: 20px;
    font-family: Arial, sans-serif;
}

.widgets_inner ul.list {
    padding: 0;
    margin: 0;
}

.widgets_inner ul.list li {
    margin-bottom: 10px;
    position: relative;
    padding-left: 20px; /* Space for the bullet dot */
    list-style: none; /* Remove default list styles */
}

.widgets_inner ul.list li::before {
    content: '\2022'; /* Bullet dot Unicode character */
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    color: #333;
}

.widgets_inner ul.list li a {
    display: block;
    padding: 10px 20px;
    color: #333;
    text-decoration: none;
    transition: background-color 0.3s ease, color 0.3s ease;
}

.widgets_inner ul.list li a:hover {
    background-color: #f0f0f0;
    color: #222;
}
.out-of-stock-btn {
    color: rgb(229, 15, 15); /* Text color */
    border: 2px solid red; /* Red border */
    background-color: red; /* Red background */
    border-radius: 4px; /* Rounded corners */
    font-weight: bold; /* Bold text */
    display: inline-block; /* Inline block for sizing */
    width: 100%; /* Full width (adjust if necessary) */
    text-align: center; /* Center text */
    padding: 10px 0; /* Padding */
    text-decoration: none; /* Remove underline */
}

.out-of-stock-btn span {
    /* If you have specific styles for the span element inside the button */
}

.out-of-stock-btn i {
    color: rgb(231, 20, 20); /* Ensure icons are also white */
}




/* Ensure proper spacing and styling for the sorting dropdown */
.sidebar-box-2 .form-group {
  margin-bottom: 1rem;
}

.sidebar-box-2 .form-control {
  border-radius: 0;
  box-shadow: none;
}

.btn-primary {
  background-color: #007bff;
  border: none;
  border-radius: 0;
  padding: 0.75rem 1.25rem;
}



/* Custom Dropdown Styling */
.custom-dropdown {
    background-color: #f8f9fa;
    border: 1px solid #ced4da;
    border-radius: 0.25rem;
    padding: 0.375rem 0.75rem;
    font-size: 1rem;
    line-height: 1.5;
    color: #495057;
    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}

.custom-dropdown:focus {
    border-color: #80bdff;
    outline: none;
    box-shadow: 0 0 0 0.2rem rgba(38, 143, 255, 0.25);
}


.subcategory-btn {
    background-color: #dbcc8f;
    color: white;
    border: 2px solid transparent;
    padding: 10px 20px;
    margin: 5px;
    cursor: pointer;
    border-radius: 25px;
    font-size: 14px;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.subcategory-btn:hover {
    background-color: white;
    color: #dbcc8f;
    border: 2px solid #dbcc8f;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
}



/* Pagination container */
.pagination-container {
    text-align: center;
    margin-top: 20px;
}

.pagination-link {
    display: inline-block;
    padding: 8px 16px;
    margin: 0 4px;
    border: 1px solid #ddd;
    border-radius: 4px;
    color: #333;
    text-decoration: none;
    background-color: #fff;
}

.pagination-link.active {
    background-color: #007bff;
    color: #fff;
    border-color: #007bff;
}

.pagination-link:hover {
    background-color: #f8f9fa;
}



.breadcrumbs {
  
    font-size: 16px; /* Increase font size for better readability */
    color: #555; /* Dark gray color for text */
    font-weight: 400; /* Regular weight for text */
}

.breadcrumbs a {
    color: #007bff; /* Bootstrap primary color for links */
    text-decoration: none; /* Remove underline from links */
}

.breadcrumbs a:hover {
    text-decoration: underline; /* Add underline on hover for links */
}

.breadcrumbs span {
    color: #333; /* Darker color for the current page */
    font-weight: 500; /* Slightly bolder for emphasis */
}


</style>

</head>
<body class="goto-here">

  <nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
      <div class="container">
        <a class="navbar-brand" href=""> <h1 class="logoname">GAMZY</h1></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav" aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="oi oi-menu"></span> Menu
        </button>

        <div class="collapse navbar-collapse" id="ftco-nav">
          <ul class="navbar-nav ml-auto">
              <li class="nav-item" ><a href="/" class="nav-link">Home</a></li>
              <li class="nav-item dropdown active">
                  <a class="nav-link " href=""  aria-haspopup="true" aria-expanded="false">Shop</a>
        
              </li>
              <li class="nav-item"><a href="about.html" class="nav-link">About</a></li>
              <li class="nav-item"><a href="blog.html" class="nav-link">Blog</a></li>
              <li class="nav-item"><a href="contact.html" class="nav-link">Contact</a></li>
              <li class="nav-item cta cta-colored"><a href="cart.html" class="nav-link"><span class="icon-shopping_cart"></span>[0]</a></li>
          </ul>
      </div>
      </div>
    </nav>
    
  <div class="hero-wrap hero-bread" style="background-image: url('/img/Gaming.jpg'); background-size: 100% auto; background-position: center; background-repeat: no-repeat;">
    <div class="container">
      <div class="row no-gutters slider-text align-items-center justify-content-center">
        <div class="col-md-9 ftco-animate text-center">
          <p class="breadcrumbs"><span class="mr-2"><a href="index.html">Home</a></span> <span>Shop</span></p>
          <h1 class="mb-0 bread">Shop</h1>
        </div>
      </div>
    </div>
  </div>
  

  <section class="ftco-section bg-light">
  
    <div class="container">
      <p class="breadcrumbs">
        <a href="/">Home</a> &gt; 
        <a href="/user/ShopPage">Shop</a>
      </p>
        <div class="row">
          <div class="col-md-8 col-lg-10 order-md-last">
            <div class="row">
                <!-- Products -->
                <% products.forEach(product => { %>
                    <div class="col-sm-12 col-md-6 col-lg-4 ftco-animate d-flex">
                        <div class="product d-flex flex-column">
                            <a href="/user/productDetails/product/<%= product._id %>/variant/<%= product.variants[0]._id %>" class="img-prod">
                                <img class="img-fluid" src="/uploads/<%= product.variants[0].images[0] %>" alt="Product Image">
                                <div class="overlay"></div>
                            </a>
                            <div class="text py-3 pb-4 px-3">
                                <div class="d-flex">
                                    <div class="cat">
                                        <span><%= product.category %></span>
                                    </div>
                                    
                                </div>
                                <h3><a href="/user/productDetails/product/<%= product._id %>/variant/<%= product.variants[0]._id %>"><%= product.name %></a></h3>
                                <div class="pricing">
                                  <p class="price"><span><%= product.productname%></span></p>
                                    <p class="price"><span>â‚¹<%= product.price %></span></p>
                                    <p class="price"><span><%= truncateDescription(product.productDescription, 70) %></span></p>
                                </div>
                                <p class="bottom-area d-flex px-3">
                                  <a href="#" class="add-to-cart text-center py-2 mr-1"><span>Add to cart</i></span></a>
                                  <% if (product.variants[0].quantity < 1) { %>
                                    <a href="#" class=" out-of-stock-btn " style="background-color: red; color: #f0f0f0;">Out of stock<span></span></a>
                                  <% } else { %>
                                      <a href="#" class="buy-now text-center py-2">Buy now<span></i></span></a>
                                  <% } %>
                              </p>
                            </div>
                        </div>
                    </div>
                <% }) %>
            </div>

                           <!-- Pagination -->
                           <div class="pagination-container">
                            <% if (currentPage > 1) { %>
                                <a href="/user/ShopPage?page=<%= currentPage - 1 %>&subcategory=<%= subcategory %>&category=<%= category %>&price_from=<%= price_from %>&price_to=<%= price_to %>&sort=<%= sort %>" class="pagination-link">Previous</a>
                            <% } %>
        
                            <% for (let i = 1; i <= totalPages; i++) { %>
                                <a href="/user/ShopPage?page=<%= i %>&subcategory=<%= subcategory %>&category=<%= category %>&price_from=<%= price_from %>&price_to=<%= price_to %>&sort=<%= sort %>" class="pagination-link <%= i === currentPage ? 'active' : '' %>"><%= i %></a>
                            <% } %>
        
                            <% if (currentPage < totalPages) { %>
                                <a href="/user/ShopPage?page=<%= currentPage + 1 %>&subcategory=<%= subcategory %>&category=<%= category %>&price_from=<%= price_from %>&price_to=<%= price_to %>&sort=<%= sort %>" class="pagination-link">Next</a>
                            <% } %>
                        </div>
                    </div>
    
        <div class="col-md-4 col-lg-2">
          <form method="get" action="/user/ShopPage" class="colorlib-form-2">
            <div class="sidebar">
              <!-- Subcategories -->
              <div class="sidebar-box-2">
              
                <h2 class="heading">Subcategories</h2>
                <div class="form-group">
                  <a href="/user/ShopPage?subcategory=wired&category=<%= category %>&price_from=<%= price_from %>&price_to=<%= price_to %>&sort=<%= sort %>">
                    <button type="button" class="subcategory-btn">Wired</button>
                  </a>
                  <a href="/user/ShopPage?subcategory=wireless&category=<%= category %>&price_from=<%= price_from %>&price_to=<%= price_to %>&sort=<%= sort %>">
                    <button type="button" class="subcategory-btn">Wireless</button>
                  </a>
                </div>
              </div>
          
              <!-- Sorting Options -->
              <div class="sidebar-box-2">
                <h2 class="heading">Sort By</h2>
                <div class="form-group">
                  <select name="sort" id="sort" class="form-control" onchange="this.form.submit()">
                    <option value="">Select sorting</option>
                    <option value="asc" <%= sort === 'asc' ? 'selected' : '' %>>A to Z</option>
                    <option value="desc" <%= sort === 'desc' ? 'selected' : '' %>>Z to A</option>
                  </select>
                </div>
              </div>
          
              <!-- Categories -->
              <div class="sidebar-box-2">
                <h2 class="heading">Categories</h2>
                <div class="widgets_inner">
                  <ul class="list">
                    <% categories.forEach(categoryItem => { %>
                      <li>
                        <a href="/user/ShopPage?category=<%= categoryItem._id %>&subcategory=<%= subcategory %>&price_from=<%= price_from %>&price_to=<%= price_to %>&sort=<%= sort %>">
                          <%= categoryItem.name %>
                        </a>
                      </li>
                    <% }); %>
                  </ul>
                </div>
              </div>
          
              <!-- Price Range -->
              <div class="sidebar-box-2">
                <h2 class="heading">Price Range</h2>
                <div class="row">
                  <div class="col-md-12">
                    <div class="form-group">
                      <label for="price_from">Price from:</label>
                      <div class="form-field">
                        <i class="icon icon-arrow-down3"></i>
                        <select name="price_from" id="price_from" class="form-control" >
                          <option value="1" <%= price_from == 1 ? 'selected' : '' %>>$1</option>
                          <option value="20" <%= price_from == 20 ? 'selected' : '' %>>$20</option>
                          <option value="30" <%= price_from == 30 ? 'selected' : '' %>>$30</option>
                          <option value="40" <%= price_from == 40 ? 'selected' : '' %>>$40</option>
                          <option value="300" <%= price_from == 300 ? 'selected' : '' %>>$300</option>
                        </select>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-12">
                    <div class="form-group">
                      <label for="price_to">Price to:</label>
                      <div class="form-field">
                        <i class="icon icon-arrow-down3"></i>
                        <select name="price_to" id="price_to" class="form-control" >
                          <option value="90" <%= price_to == 90 ? 'selected' : '' %>>$90</option>
                          <option value="100" <%= price_to == 100 ? 'selected' : '' %>>$100</option>
                          <option value="300" <%= price_to == 300 ? 'selected' : '' %>>$300</option>
                          <option value="600" <%= price_to == 600 ? 'selected' : '' %>>$600</option>
                          <option value="1000" <%= price_to == 1000 ? 'selected' : '' %>>$1000</option>
                          <option value="3000" <%= price_to == 3000 ? 'selected' : '' %>>$3000</option>
                          <option value="6000" <%= price_to == 6000 ? 'selected' : '' %>>$6000</option>
                        </select>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-12">
                    <button type="submit" class="btn btn-primary">Filter</button>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>


        </div>
    </div>
</section>

      
      <section class="ftco-gallery">
     
   

  <footer class="ftco-footer ftco-section">
    <div class="container">
        
     
        <div class="col-md">
          <div class="ftco-footer-widget mb-4">
              <h2 class="ftco-heading-2">Have a Questions?</h2>
              <div class="block-23 mb-3">
                <ul>
                  <li><span class="icon icon-map-marker"></span><span class="text">203 Fake St. Mountain View, San Francisco, California, USA</span></li>
                  <li><a href="#"><span class="icon icon-phone"></span><span class="text">+2 392 3929 210</span></a></li>
                  <li><a href="#"><span class="icon icon-envelope"></span><span class="text">info@yourdomain.com</span></a></li>
                </ul>
              </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12 text-center">

          <p><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                        Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="icon-heart color-danger" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
                        <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                      </p>
        </div>
      </div>
    </div>
  </footer>
  


<!-- loader -->
<div id="ftco-loader" class="show fullscreen"><svg class="circular" width="48px" height="48px"><circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/><circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#F96D00"/></svg></div>


<script src="/js/jquery.min.js"></script>
<script src="/js/jquery-migrate-3.0.1.min.js"></script>
<script src="/js/popper.min.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/jquery.easing.1.3.js"></script>
<script src="/js/jquery.waypoints.min.js"></script>
<script src="/js/jquery.stellar.min.js"></script>
<script src="/js/owl.carousel.min.js"></script>
<script src="/js/jquery.magnific-popup.min.js"></script>
<script src="/js/aos.js"></script>
<script src="/js/jquery.animateNumber.min.js"></script>
<script src="/js/bootstrap-datepicker.js"></script>
<script src="/js/scrollax.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
<script src="/js/google-map.js"></script>
<script src="/js/main.js"></script>

<script>
  function truncateDescription(description, maxLength) {
      if (description.length > maxLength) {
          return description.substring(0, maxLength) + '...';
      }
      return description;
  }
</script>


<%- include('../layouts/footer') %>